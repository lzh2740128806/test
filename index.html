<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width">
	<meta charset="UTF-8">
	<title>测试</title>
	<style>
		html, body, video{
			margin: 0;
			width: 100%;
			height: 100%;
			font-size: 14px;
			object-fit: cover;
		}
	</style>
</head>
<body>
	<video src="#"></video>
	<script>
		// document.write('navigator.mediaDevices.getUserMedia:' + !!navigator.mediaDevices.getUserMedia + '<br/>');
		// document.write('navigator.getUserMedia:' + !!navigator.getUserMedia + '<br/>');
		// document.write('MediaStreamTrack.getSources:' + !!MediaStreamTrack.getSources + '<br/>');
		

		navigator.getUserMedia({video: true}, suc, err);

		function suc(stream){
			var video = document.querySelector('video')
			video.src = window.URL.createObjectURL(stream);
            video.onloadedmetadata = function(e) {
                video.play();
            };
		}

		function err(err){
			alert('error:' + err.name);
		}
	</script>
</body>
</html>